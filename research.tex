\documentclass[11pt]{article}
\usepackage{url}
\usepackage{graphicx}
\usepackage{pdfpages}
\include{macros}
\newcommand{\thisdocument}{RRF: Proposed Research}

\begin{document}
\section{Introduction and Rationale}

%[[Provide brief critical review of the pertinent literature, theoretical
%background, and justification for the proposed research. Describe any
%results already achieved, including publications.]]

Most of the PI's published research work is in number theory, which is
an area of pure mathematics.  The PI embarked on a new and risky path
at Harvard in 2005, when he started the Sage mathematical software
project, which has grown substantially since he was recruited by UW in
2006.  There are now around 500 Sage developers, over 10,000 downloads
of Sage per month, and over 55,000 unique visitors each month to the
\url{http://sagemath.org} website.  Sage is a very large free
self-contained program for doing sophisticated mathematics, which you
can download and run on your computer.  The goal of the Sage project is to
create a viable free open source alternative to the commercial systems
Maple, Mathematica, Matlab and Magma.
The PI has published several articles about Sage, including
\cite{} ??.

The Sage notebook, whose development was partly supported by the RRF
program in 2009, is the primary user interface to Sage.  It was
designed mainly for use by a relatively small number of people, but
there is a public free version that anybody can freely start using at
\url{http://sagenb.org}.  Sage is software for doing serious number
crunching, so it is extremely resource intensive.  The notebook runs
on one powerful computer that the PI purchased in {\bf 2008} and it
has around 100,000 user accounts!  There are usually well over 50
people attempting to use \url{http://sagenb.org} at any given time.

\begin{center}
\begin{figure}[ht]
\hfill
\includegraphics[height=0.28\textheight]{nb2}
\hfill
\includegraphics[height=0.28\textheight]{nb1}
\hfill
\mbox{}
\caption{Screenshots Showing the Sage Notebook\label{fig:sagenb}}
\end{figure}
\end{center}

\noindent{}{\bf Goal:} {\em Create a web application (based on Sage)
  called Salvus, which is designed from the start to be secure, highly
  available, horizontally scalable and able to robustly handle up to
  10,000 simultaneous users.  Provide both free and non-free accounts,
  with revenue from the non-free subscriptions supporting maintenance
  and purchase of hardware, and the development of Sage.}

Instead of teachers and researchers having to pay to buy expensive
commercial mathematical software and install it on their computers, or
be frustrated with the current Sage notebook, Salvus would provide
them the option to {\em reliably} and efficiently use Sage over the
web and confidently get their students to use it.  At many
institutions, purchasing computer software---especially mathematical
software---is a significant burden, and Sage has helped address this
problem, but the burden of installing, mainting, and upgrading Sage
remains, and the Sage notebook hasn't solved that problem because it
is too slow and unreliable.  This project has the potential to have a
profound impact on education at all levels.

There are several web-based software development environments, e.g.,
\url{https://c9.io/}, which have some similarieties to what we plan to
implement with Salvus.  However, Salvus is much more focused on
mathematical algorithm, mathematics education (at all levels), and
mathematical research than any existing web applications.

\section{Objectives}
%What is the project designed to accomplish?

The PI has spent much of Summer 2012 on the foundations of Salvus, and
will make a limited-functionality version available by the end of
September 2012.  He intends to have a version up and running with
comparable functionality to the existing Sage Notebook by March 2012,
and build a core subscriber base of at least 2500 users by August
2013; work during Winter 2013 is being funded by the remainder of his
startup money, and during some of Summer 2013 by an NSF grant.  This
RRF would allow the PI to work fulltime straight through until late
December 2013 on the next stage of the Salvus project. The specific
goals for the second stage of development will address some
significant {\em functionality} that is completely missing from the
current Sage Notebook and Salvus.

\begin{enumerate}
\item Market an enterprise version of Salvus that customers can
  install on an internal secure network on their own hardware.
\item Negotiate license agreements to allow use of commercial software
  through the Salvus interface: Matlab, Mathematica, Maple, Magma
\item Integrate with many popular cloud storage and repository hosting
  services, including Dropbox, Google Drive, Github, Google Code, and
  Bitbucket.
\item Implement editors for the following document types: command
  line, Latex document, Mathcad style free-form document, .py and
  .sage files,
\item Implement fast interactive 2d and 3d graphics using modern web
  standard such as HTML5 canvas and WebGL.
\item Greatly improve support for using free software other than Sage
  through the Salvus interface, including Octave, Scilab, and R.
\item Make it possible for people to write and modify the code that
  gets included with Sage entirely using Salvus, so anybody can
  constribute to Sage without having to install Sage.
\end{enumerate}


\subsection{The Sage Notebook}
\begin{figure}
\begin{center}
\includegraphics[width=0.6\textwidth]{nb1}
\caption{Interactive Image Compression in the Sage Notebook\label{fig:interact}}
\end{center}
\end{figure}
The Sage notebook is a web application, like Gmail or Google Maps.
It provides an interactive web-based worksheet in which one can enter
arbitrary Sage commands, see beautifully typeset output, create 2-D
and 3-D graphics, publish worksheets, and collaborate with other
users.

The PI and several UW undergraduates together developed the basic
implementation of the current version of the Sage notebook during an
extremely intense three-week coding session in Summer 2007.  This coding
work was motivated by UW's SIMUW program, which is an intense summer
mathematics program for about 25 high school students.  In 2007, the
PI taught a two-week SIMUW course using the Sage notebook on the Riemann
Hypothesis.  In 2008 he taught another 2-week SIMUW course on
Quantitative Finance using the notebook's new interactive controls
feature (see Figure~\ref{fig:interact}).

The Sage notebook is a much beloved ``killer application'' of Sage:
\begin{quote}
  In my opinion, SAGE's notebook is the real killer feature, which I
  don't recall to have seen in any other (commercial or not)
  software. I mean, this is the only scientific program that I've
  found, allowing such an easy collaborative job within local
  networks.

 -- Maurizio, the Sage mailing list.
\end{quote}

Professors at dozens of universities around the world are getting
excited about how they can leverage the Sage notebook in their
teaching.
\begin{quote}
With some colleagues in our University (Lyon, France) we have built a
project around Sage for undergraduate students... {\em And the University has
decided to support this project.} Good news.

Now we will be facing the problem to build a Sage configuration which
will work for say 200 students at the same time (students will use the
notebook), and prepare professors for Sage teaching. There are `some'
technical problems to solve...
 
-- T. Dumont, the Sage mailing list.
\end{quote}

The Sage notebook presently does not robustly scale to more than about
100 users at the same time, no matter how good the hosting hardware
is.  The PI proposes tovastly improving the robustness and scalability
of the notebook.  The PI is well positioned to succeed at this
project, since he is intimately familiar with all aspects of the
notebook codebase.


\section{Procedure}

% With what methods, materials, or tools will the objectives be met?
% If access to a particular location or institution is required for
% research or data collection, state whether permission has been
% obtained.


\section{Time Schedule}
% Provide a schedule showing how the proposed research can be
% accomplished during the desired support period. The support period
% is normally limited to one year. A no-cost extension of up to one
% year may be granted if requested and adequately justified.

The PI intends to work full time for three months (Sept 16--Dec 16, 2013) on this project.

\begin{enumerate}
\item Month 1: ??
\item Month 2: ??
\item Month 3: ??
\end{enumerate}


\section{Need for RRF Support}
% What other efforts have been made to find support for the project?
% How could the results of the work lead to further outside funding or
% commercial applications? How does this project address the mission
% of the Royalty Research Fund? For RRF Scholar applicants, provide
% documentation of teaching load (quarter, course number, title, and
% credits) in this section.

Though the PI has obtained funding for the Sage project from
Microsoft, Google, the National Science Foundation, prize money,
private donations, and contracts with industry for Sage development,
this has mostly been limited seed money.  The more Sage improves and
grows in quality to equal and exceed the commercial offerings, the
{\em easier} it becomes to obtain further outside funding and for Sage
to be useful in potentially thousands of educational and commercial
applications.

The goals of the current proposal are to greatly enhance Sage's level
of {\em robust availability} and provide a sustainable UW-based
revenue stream to support Sage development.  If successful, this will
have a huge and direct impact both on development of Sage and the
community of Sage users.  This project thus directly addresses the
mission of the Royalty Research Fund by providing a unique opportunity
to increase the PI's competitiveness for subsequent funding via
individual user and site-wide subscriptions to Salvus.

The last RRF that the PI received in 2009 made Sage attractive to the
{\em educational market}, which was a huge area of potential funding
that Sage had not had success in yet.  After that RRF, the Sage
project (and the PI) received a substantial CCLI Type 2 grant (see
\url{http://utmost.aimath.org/}) from the educational part of NSF.
Similarly, supporting the current proposal is likely to expand the
potential funding options for Sage dramatically, by very efficiently
providing a new key service that is in high demand, but nobody
currently makes available.

\subsection{RRF Scholar Application: documentation of teaching load}
The standard teaching load is about 4.5 quarter courses per year.  The
PI is requesting a buyout for 2 Calculus courses (MATH 124: {\em
  Calculus with Analytic Geometry I}, 5 credits, or similar), which he
would likely teach if not supported by an RRF.

\subsection{C4C Letter of Support}\label{sec:letter}
Finally, we close this proposal with a letter of support from the UW
Center for Commercialization, which helps explain how the results of
this work could lead to further funding.

\includepdf[pages=-]{letter_from_c4c}

\end{document}
